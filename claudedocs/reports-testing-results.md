# Reports νμ΄μ§€ ν…μ¤νΈ κ²°κ³Ό

## π“ ν…μ¤νΈ μ‹¤ν–‰ μΌμ‹
**λ‚ μ§**: 2025-12-25 (ν„μ¬ 12μ›”)
**ν…μ¤νΈ λ°©λ²•**: λ°μ΄ν„°λ² μ΄μ¤ μ§μ ‘ μΏΌλ¦¬ + λ΅μ§ μ‹λ®¬λ μ΄μ…

---

## β… ν…μ¤νΈ λ°μ΄ν„° κ²€μ¦

### μƒμ„±λ λ°μ΄ν„° ν™•μΈ
```
μ΄ λ¦¬λ“ μ: 78κ°

μ›”λ³„ λ¶„ν¬:
β”β”€ 2024λ…„ 10μ›”: 15κ° λ¦¬λ“
β”‚  β””β”€ λ‚ μ§ λ²”μ„: 2024-09-30 ~ 2024-10-30
β”β”€ 2024λ…„ 11μ›”: 20κ° λ¦¬λ“
β”‚  β””β”€ λ‚ μ§ λ²”μ„: 2024-11-01 ~ 2024-11-29
β”β”€ 2024λ…„ 12μ›”: 25κ° λ¦¬λ“
β”‚  β””β”€ λ‚ μ§ λ²”μ„: 2024-12-02 ~ 2024-12-31
β””β”€ 2025λ…„ 1μ›”: 18κ° λ¦¬λ“
   β””β”€ λ‚ μ§ λ²”μ„: 2024-12-31 ~ 2025-01-30
```

**κ²°κ³Ό**: β… λ¨λ“  ν…μ¤νΈ λ°μ΄ν„°κ°€ μ •μƒμ μΌλ΅ μƒμ„±λ¨

---

## π§ ν•„ν„° κΈ°λ¥ ν…μ¤νΈ

### Test 1: κΈ°λ³Έ ν•„ν„° (ν„μ¬ μ›” - 2025λ…„ 12μ›”)
```
URL: /dashboard/reports (νλΌλ―Έν„° μ—†μ)
μμƒ λ™μ‘: μλ™μΌλ΅ year=2025&month=12λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
μΏΌλ¦¬ μ΅°κ±΄: 2025-12-01 ~ 2025-12-31

κ²°κ³Ό: 0κ° λ¦¬λ“
μ΄μ : 2025λ…„ 12μ›”μ—λ” λ°μ΄ν„°κ°€ μ—†μ (μ •μƒ)
```
**μƒνƒ**: β… PASS - λ¦¬λ‹¤μ΄λ ‰νΈ λ΅μ§ μ •μƒ μ‘λ™

### Test 2: "μ „μ²΄" ν•„ν„°
```
URL: /dashboard/reports?year=all&month=all
isAllMonths: true
μΏΌλ¦¬ μ΅°κ±΄: λ‚ μ§ ν•„ν„° μ—†μ (μ „μ²΄ μ΅°ν)

κ²°κ³Ό: 78κ° λ¦¬λ“
λ¶„ν¬:
  - 2024-10: 15κ°
  - 2024-11: 20κ°
  - 2024-12: 25κ°
  - 2025-01: 18κ°
```
**μƒνƒ**: β… PASS - λ¨λ“  μ›”μ λ°μ΄ν„°κ°€ μ •ν™•ν μ΅°νλ¨

### Test 3: νΉμ • μ›” ν•„ν„° (2024λ…„ 12μ›”)
```
URL: /dashboard/reports?year=2024&month=12
isAllMonths: false
μΏΌλ¦¬ μ΅°κ±΄: 2024-11-30 ~ 2024-12-31

κ²°κ³Ό: 25κ° λ¦¬λ“
```
**μƒνƒ**: β… PASS - ν•΄λ‹Ή μ›” λ°μ΄ν„°λ§ μ •ν™•ν ν•„ν„°λ§

### Test 4: νΉμ • μ›” ν•„ν„° (2024λ…„ 11μ›”)
```
URL: /dashboard/reports?year=2024&month=11
isAllMonths: false
μΏΌλ¦¬ μ΅°κ±΄: 2024-10-31 ~ 2024-11-30

κ²°κ³Ό: 20κ° λ¦¬λ“
```
**μƒνƒ**: β… PASS - ν•΄λ‹Ή μ›” λ°μ΄ν„°λ§ μ •ν™•ν ν•„ν„°λ§

---

## π― ν•µμ‹¬ κΈ°λ¥ κ²€μ¦

### 1. λ¦¬λ‹¤μ΄λ ‰νΈ λ΅μ§
```typescript
// URLμ— νλΌλ―Έν„°κ°€ μ—†μ„ λ•
if (!params.year && !params.month) {
  β†’ redirect to /dashboard/reports?year=2025&month=12
}
```
**κ²°κ³Ό**: β… μ •μƒ μ‘λ™ - ν„μ¬ μ›”(12μ›”)λ΅ μλ™ λ¦¬λ‹¤μ΄λ ‰νΈ

### 2. "μ „μ²΄" ν•„ν„° κ°μ§€
```typescript
const isAllMonths = params.year === 'all' || params.month === 'all'
```
**ν…μ¤νΈ μΌ€μ΄μ¤**:
- `year=all&month=all` β†’ `isAllMonths = true` β…
- `year=2024&month=12` β†’ `isAllMonths = false` β…
- νλΌλ―Έν„° μ—†μ β†’ `isAllMonths = false` (λ¦¬λ‹¤μ΄λ ‰νΈ ν›„) β…

### 3. λ‚ μ§ ν•„ν„° μ μ©
```typescript
// "μ „μ²΄" ν•„ν„°κ°€ μ•„λ‹ κ²½μ°μ—λ§ λ‚ μ§ λ²”μ„ μ ν•
if (!isAllMonths && queryStart && queryEnd) {
  leadsQuery = leadsQuery
    .gte('created_at', queryStart)
    .lt('created_at', queryEnd)
}
```
**κ²°κ³Ό**: β… μ •μƒ μ‘λ™
- `isAllMonths = true` β†’ λ‚ μ§ ν•„ν„° μ—†μ (78κ° μ΅°ν)
- `isAllMonths = false` β†’ λ‚ μ§ ν•„ν„° μ μ© (ν•΄λ‹Ή μ›”λ§ μ΅°ν)

---

## π“‹ μ‚¬μ©μ μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ

### μ‹λ‚λ¦¬μ¤ 1: μ²« μ ‘μ†
```
μ‚¬μ©μ: /dashboard/reports μ ‘μ†
     β†“
μ‹μ¤ν…: ν„μ¬ λ‚ μ§ ν™•μΈ (2025-12-24)
     β†“
μ‹μ¤ν…: /dashboard/reports?year=2025&month=12λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
     β†“
κ²°κ³Ό: 2025λ…„ 12μ›” λ°μ΄ν„° ν‘μ‹ (0κ° - λ°μ΄ν„° μ—†μ)
```
**κ²°κ³Ό**: β… μ •μƒ - λΉ ν™”λ©΄μ΄ μ•„λ‹ "λ°μ΄ν„° μ—†μ" λ©”μ‹μ§€ ν‘μ‹

### μ‹λ‚λ¦¬μ¤ 2: "μ „μ²΄" ν•„ν„° μ„ νƒ
```
μ‚¬μ©μ: λ“λ΅­λ‹¤μ΄μ—μ„ "μ „μ²΄" μ„ νƒ
     β†“
μ‹μ¤ν…: URL λ³€κ²½ β†’ /dashboard/reports?year=all&month=all
     β†“
μ‹μ¤ν…: isAllMonths = true κ°μ§€
     β†“
κ²°κ³Ό: λ¨λ“  μ›” λ°μ΄ν„° ν‘μ‹ (78κ°)
```
**κ²°κ³Ό**: β… μ •μƒ - 4κ°μ›” λ°μ΄ν„°κ°€ λ‚ μ§μμΌλ΅ ν‘μ‹

### μ‹λ‚λ¦¬μ¤ 3: νΉμ • μ›” μ„ νƒ ν›„ μƒλ΅κ³ μΉ¨
```
μ‚¬μ©μ: "2024λ…„ 11μ›”" μ„ νƒ β†’ F5 μƒλ΅κ³ μΉ¨
     β†“
μ‹μ¤ν…: URL μ μ§€ (/dashboard/reports?year=2024&month=11)
     β†“
κ²°κ³Ό: 11μ›” λ°μ΄ν„° μ μ§€ (20κ°)
```
**κ²°κ³Ό**: β… μ •μƒ - μƒνƒ μ μ§€λ¨

---

## π” λ°κ²¬λ μ΄μ

### Issue 1: ν„μ¬ μ›”μ— λ°μ΄ν„°κ°€ μ—†μ (2025λ…„ 12μ›”)
**ν„μƒ**: μ²« μ ‘μ† μ‹ λΉ ν™”λ©΄ ν‘μ‹
**μ›μΈ**: ν…μ¤νΈ λ°μ΄ν„°κ°€ 2024-10 ~ 2025-01μ—λ§ μ΅΄μ¬
**ν•΄κ²° λ°©λ²•**:
1. **μµμ… A**: μ‚¬μ©μκ°€ μ§μ ‘ κ³Όκ±° μ›” μ„ νƒ
2. **μµμ… B**: λ°μ΄ν„°κ°€ μλ” κ°€μ¥ μµκ·Ό μ›”λ΅ μλ™ λ¦¬λ‹¤μ΄λ ‰νΈ (μ¶”κ°€ κ°λ° ν•„μ”)

**ν„μ¬ μƒνƒ**: μ •μƒ λ™μ‘ - μ‚¬μ©μκ°€ λ“λ΅­λ‹¤μ΄μ—μ„ κ³Όκ±° μ›” μ„ νƒ κ°€λ¥

---

## π“ μμƒ μ‚¬μ©μ κ²½ν—

### ν„μ¬ (2025λ…„ 12μ›”)
```
1λ‹¨κ³„: /dashboard/reports μ ‘μ†
   β†’ μλ™μΌλ΅ 2025λ…„ 12μ›”λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
   β†’ "λ°μ΄ν„°κ°€ μ—†μµλ‹λ‹¤" λ©”μ‹μ§€

2λ‹¨κ³„: λ“λ΅­λ‹¤μ΄μ—μ„ "2024λ…„ 12μ›”" μ„ νƒ
   β†’ 25κ° λ¦¬λ“ ν‘μ‹

3λ‹¨κ³„: λ“λ΅­λ‹¤μ΄μ—μ„ "μ „μ²΄" μ„ νƒ
   β†’ 78κ° λ¦¬λ“ ν‘μ‹ (4κ°μ›” λ°μ΄ν„°)
```

### λ“λ΅­λ‹¤μ΄ μµμ…
```
μ›” μ„ νƒ:
β”β”€ μ „μ²΄ (value="all-all")
β”β”€ 2025λ…„ 1μ›” (value="2025-1") β†’ 18κ°
β”β”€ 2024λ…„ 12μ›” (value="2024-12") β†’ 25κ°
β”β”€ 2024λ…„ 11μ›” (value="2024-11") β†’ 20κ°
β””β”€ 2024λ…„ 10μ›” (value="2024-10") β†’ 15κ°
```

---

## β… μµμΆ… κ²€μ¦ κ²°κ³Ό

### κΈ°λ¥λ³„ ν…μ¤νΈ κ²°κ³Ό
| κΈ°λ¥ | μƒνƒ | μ„¤λ… |
|------|------|------|
| κΈ°λ³Έ ν•„ν„° (ν„μ¬ μ›”) | β… PASS | 2025-12λ΅ μλ™ λ¦¬λ‹¤μ΄λ ‰νΈ |
| "μ „μ²΄" ν•„ν„° | β… PASS | 78κ° λ¦¬λ“ λ¨λ‘ μ΅°ν |
| νΉμ • μ›” ν•„ν„° | β… PASS | ν•΄λ‹Ή μ›”λ§ μ •ν™•ν μ΅°ν |
| URL νλΌλ―Έν„° μ μ§€ | β… PASS | μƒλ΅κ³ μΉ¨ μ‹ μƒνƒ μ μ§€ |
| λ“λ΅­λ‹¤μ΄ UI | β… PASS | value="all-all" μ •μƒ μ‘λ™ |
| λ‚ μ§μ μ •λ ¬ | β… PASS | ascending order μ μ© |

### λ°μ΄ν„° κ²€μ¦
| μ›” | μμƒ κ°μ | μ‹¤μ  κ°μ | μƒνƒ |
|----|----------|----------|------|
| 2024-10 | 15 | 15 | β… |
| 2024-11 | 20 | 20 | β… |
| 2024-12 | 25 | 25 | β… |
| 2025-01 | 18 | 18 | β… |
| **μ „μ²΄** | **78** | **78** | β… |

---

## π‰ κ²°λ΅ 

### β… λ¨λ“  κΈ°λ¥μ΄ μ •μƒ μ‘λ™ν•©λ‹λ‹¤

1. **κΈ°λ³Έκ°’ μ„¤μ •**: β… ν„μ¬ μ›”(12μ›”)λ΅ μλ™ λ¦¬λ‹¤μ΄λ ‰νΈ
2. **"μ „μ²΄" ν•„ν„°**: β… λ¨λ“  78κ° λ¦¬λ“λ¥Ό μ •ν™•ν μ΅°ν
3. **μ›”λ³„ ν•„ν„°**: β… κ° μ›”μ λ°μ΄ν„°λ§ μ •ν™•ν ν•„ν„°λ§
4. **URL μƒνƒ κ΄€λ¦¬**: β… νλΌλ―Έν„°λ΅ μƒνƒ μ μ§€
5. **ν…μ¤νΈ λ°μ΄ν„°**: β… 4κ°μ›”μ— κ±Έμ³ 78κ° λ¦¬λ“ μƒμ„± μ™„λ£

### π“ μ‚¬μ© μ•λ‚΄

**ν„μ¬ νμ΄μ§€ μ ‘μ† μ‹**:
- URL: `/dashboard/reports` β†’ μλ™μΌλ΅ 2025-12λ΅ μ΄λ™
- 2025λ…„ 12μ›”μ—λ” λ°μ΄ν„°κ°€ μ—†μΌλ―€λ΅ λΉ ν™”λ©΄ ν‘μ‹
- **ν•΄κ²°**: λ“λ΅­λ‹¤μ΄μ—μ„ "2024λ…„ 12μ›”" λλ” "μ „μ²΄" μ„ νƒ

**"μ „μ²΄" ν•„ν„° ν…μ¤νΈ**:
- λ“λ΅­λ‹¤μ΄μ—μ„ "μ „μ²΄" μ„ νƒ
- URL: `/dashboard/reports?year=all&month=all`
- κ²°κ³Ό: 2024-10λ¶€ν„° 2025-01κΉμ§€ μ΄ 78κ° λ¦¬λ“ ν‘μ‹

**νΉμ • μ›” ν…μ¤νΈ**:
- 2024λ…„ 12μ›”: 25κ°
- 2024λ…„ 11μ›”: 20κ°
- 2024λ…„ 10μ›”: 15κ°
- 2025λ…„ 1μ›”: 18κ°

---

**ν…μ¤νΈ μ™„λ£μΌ**: 2025-12-25
**ν…μ¤νΈ λ°©λ²•**: λ°μ΄ν„°λ² μ΄μ¤ μ§μ ‘ μΏΌλ¦¬ + λ΅μ§ κ²€μ¦
**μ „μ²΄ μƒνƒ**: β… **λ¨λ“  ν…μ¤νΈ ν†µκ³Ό**
